---
source_url: https://platform.claude.com/docs/en/api/java/beta/messages/batches/results
source_type: sitemap
content_hash: sha256:77b1cba761c152fdc40773438f539219485aec1e301ddf80823bac156abf8d3c
sitemap_url: https://platform.claude.com/sitemap.xml
fetch_method: markdown
---

## Results

`BetaMessageBatchIndividualResponse beta().messages().batches().resultsStreaming(BatchResultsParamsparams = BatchResultsParams.none(), RequestOptionsrequestOptions = RequestOptions.none())`

**get** `/v1/messages/batches/{message_batch_id}/results`

Streams the results of a Message Batch as a `.jsonl` file.

Each line in the file is a JSON object containing the result of a single request in the Message Batch. Results are not guaranteed to be in the same order as requests. Use the `custom_id` field to match results to requests.

Learn more about the Message Batches API in our [user guide](https://docs.claude.com/en/docs/build-with-claude/batch-processing)

### Parameters

- `BatchResultsParams params`

  - `Optional<String> messageBatchId`

    ID of the Message Batch.

  - `Optional<List<AnthropicBeta>> betas`

    Optional header to specify the beta version(s) you want to use.

    - `MESSAGE_BATCHES_2024_09_24("message-batches-2024-09-24")`

    - `PROMPT_CACHING_2024_07_31("prompt-caching-2024-07-31")`

    - `COMPUTER_USE_2024_10_22("computer-use-2024-10-22")`

    - `COMPUTER_USE_2025_01_24("computer-use-2025-01-24")`

    - `PDFS_2024_09_25("pdfs-2024-09-25")`

    - `TOKEN_COUNTING_2024_11_01("token-counting-2024-11-01")`

    - `TOKEN_EFFICIENT_TOOLS_2025_02_19("token-efficient-tools-2025-02-19")`

    - `OUTPUT_128K_2025_02_19("output-128k-2025-02-19")`

    - `FILES_API_2025_04_14("files-api-2025-04-14")`

    - `MCP_CLIENT_2025_04_04("mcp-client-2025-04-04")`

    - `MCP_CLIENT_2025_11_20("mcp-client-2025-11-20")`

    - `DEV_FULL_THINKING_2025_05_14("dev-full-thinking-2025-05-14")`

    - `INTERLEAVED_THINKING_2025_05_14("interleaved-thinking-2025-05-14")`

    - `CODE_EXECUTION_2025_05_22("code-execution-2025-05-22")`

    - `EXTENDED_CACHE_TTL_2025_04_11("extended-cache-ttl-2025-04-11")`

    - `CONTEXT_1M_2025_08_07("context-1m-2025-08-07")`

    - `CONTEXT_MANAGEMENT_2025_06_27("context-management-2025-06-27")`

    - `MODEL_CONTEXT_WINDOW_EXCEEDED_2025_08_26("model-context-window-exceeded-2025-08-26")`

    - `SKILLS_2025_10_02("skills-2025-10-02")`

### Returns

- `class BetaMessageBatchIndividualResponse:`

  This is a single line in the response `.jsonl` file and does not represent the response as a whole.

  - `String customId`

    Developer-provided ID created for each request in a Message Batch. Useful for matching results to requests, as results may be given out of request order.

    Must be unique for each request within the Message Batch.

  - `BetaMessageBatchResult result`

    Processing result for this request.

    Contains a Message output if processing was successful, an error response if processing failed, or the reason why processing was not attempted, such as cancellation or expiration.

    - `class BetaMessageBatchSucceededResult:`

      - `BetaMessage message`

        - `String id`

          Unique object identifier.

          The format and length of IDs may change over time.

        - `Optional<BetaContainer> container`

          Information about the container used in the request (for the code execution tool)

          - `String id`

            Identifier for the container used in this request

          - `LocalDateTime expiresAt`

            The time at which the container will expire.

          - `Optional<List<BetaSkill>> skills`

            Skills loaded in the container

            - `String skillId`

              Skill ID

            - `Type type`

              Type of skill - either 'anthropic' (built-in) or 'custom' (user-defined)

              - `ANTHROPIC("anthropic")`

              - `CUSTOM("custom")`

            - `String version`

              Skill version or 'latest' for most recent version

        - `List<BetaContentBlock> content`

          Content generated by the model.

          This is an array of content blocks, each of which has a `type` that determines its shape.

          Example:

          ```json
          [{"type": "text", "text": "Hi, I'm Claude."}]
          ```

          If the request input `messages` ended with an `assistant` turn, then the response `content` will continue directly from that last turn. You can use this to constrain the model's output.

          For example, if the input `messages` were:

          ```json
          [
            {"role": "user", "content": "What's the Greek name for Sun? (A) Sol (B) Helios (C) Sun"},
            {"role": "assistant", "content": "The best answer is ("}
          ]
          ```

          Then the response `content` might be:

          ```json
          [{"type": "text", "text": "B)"}]
          ```

          - `class BetaTextBlock:`

            - `Optional<List<BetaTextCitation>> citations`

              Citations supporting the text block.

              The type of citation returned will depend on the type of document being cited. Citing a PDF results in `page_location`, plain text results in `char_location`, and content document results in `content_block_location`.

              - `class BetaCitationCharLocation:`

                - `String citedText`

                - `long documentIndex`

                - `Optional<String> documentTitle`

                - `long endCharIndex`

                - `Optional<String> fileId`

                - `long startCharIndex`

                - `JsonValue; type "char_location"constant`

                  - `CHAR_LOCATION("char_location")`

              - `class BetaCitationPageLocation:`

                - `String citedText`

                - `long documentIndex`

                - `Optional<String> documentTitle`

                - `long endPageNumber`

                - `Optional<String> fileId`

                - `long startPageNumber`

                - `JsonValue; type "page_location"constant`

                  - `PAGE_LOCATION("page_location")`

              - `class BetaCitationContentBlockLocation:`

                - `String citedText`

                - `long documentIndex`

                - `Optional<String> documentTitle`

                - `long endBlockIndex`

                - `Optional<String> fileId`

                - `long startBlockIndex`

                - `JsonValue; type "content_block_location"constant`

                  - `CONTENT_BLOCK_LOCATION("content_block_location")`

              - `class BetaCitationsWebSearchResultLocation:`

                - `String citedText`

                - `String encryptedIndex`

                - `Optional<String> title`

                - `JsonValue; type "web_search_result_location"constant`

                  - `WEB_SEARCH_RESULT_LOCATION("web_search_result_location")`

                - `String url`

              - `class BetaCitationSearchResultLocation:`

                - `String citedText`

                - `long endBlockIndex`

                - `long searchResultIndex`

                - `String source`

                - `long startBlockIndex`

                - `Optional<String> title`

                - `JsonValue; type "search_result_location"constant`

                  - `SEARCH_RESULT_LOCATION("search_result_location")`

            - `String text`

            - `JsonValue; type "text"constant`

              - `TEXT("text")`

          - `class BetaThinkingBlock:`

            - `String signature`

            - `String thinking`

            - `JsonValue; type "thinking"constant`

              - `THINKING("thinking")`

          - `class BetaRedactedThinkingBlock:`

            - `String data`

            - `JsonValue; type "redacted_thinking"constant`

              - `REDACTED_THINKING("redacted_thinking")`

          - `class BetaToolUseBlock:`

            - `String id`

            - `Input input`

            - `String name`

            - `JsonValue; type "tool_use"constant`

              - `TOOL_USE("tool_use")`

            - `Optional<Caller> caller`

              Tool invocation directly from the model.

              - `class BetaDirectCaller:`

                Tool invocation directly from the model.

                - `JsonValue; type "direct"constant`

                  - `DIRECT("direct")`

              - `class BetaServerToolCaller:`

                Tool invocation generated by a server-side tool.

                - `String toolId`

                - `JsonValue; type "code_execution_20250825"constant`

                  - `CODE_EXECUTION_20250825("code_execution_20250825")`

          - `class BetaServerToolUseBlock:`

            - `String id`

            - `Caller caller`

              Tool invocation directly from the model.

              - `class BetaDirectCaller:`

                Tool invocation directly from the model.

                - `JsonValue; type "direct"constant`

                  - `DIRECT("direct")`

              - `class BetaServerToolCaller:`

                Tool invocation generated by a server-side tool.

                - `String toolId`

                - `JsonValue; type "code_execution_20250825"constant`

                  - `CODE_EXECUTION_20250825("code_execution_20250825")`

            - `Input input`

            - `Name name`

              - `WEB_SEARCH("web_search")`

              - `WEB_FETCH("web_fetch")`

              - `CODE_EXECUTION("code_execution")`

              - `BASH_CODE_EXECUTION("bash_code_execution")`

              - `TEXT_EDITOR_CODE_EXECUTION("text_editor_code_execution")`

              - `TOOL_SEARCH_TOOL_REGEX("tool_search_tool_regex")`

              - `TOOL_SEARCH_TOOL_BM25("tool_search_tool_bm25")`

            - `JsonValue; type "server_tool_use"constant`

              - `SERVER_TOOL_USE("server_tool_use")`

          - `class BetaWebSearchToolResultBlock:`

            - `BetaWebSearchToolResultBlockContent content`

              - `class BetaWebSearchToolResultError:`

                - `BetaWebSearchToolResultErrorCode errorCode`

                  - `INVALID_TOOL_INPUT("invalid_tool_input")`

                  - `UNAVAILABLE("unavailable")`

                  - `MAX_USES_EXCEEDED("max_uses_exceeded")`

                  - `TOO_MANY_REQUESTS("too_many_requests")`

                  - `QUERY_TOO_LONG("query_too_long")`

                - `JsonValue; type "web_search_tool_result_error"constant`

                  - `WEB_SEARCH_TOOL_RESULT_ERROR("web_search_tool_result_error")`

              - `List<BetaWebSearchResultBlock>`

                - `String encryptedContent`

                - `Optional<String> pageAge`

                - `String title`

                - `JsonValue; type "web_search_result"constant`

                  - `WEB_SEARCH_RESULT("web_search_result")`

                - `String url`

            - `String toolUseId`

            - `JsonValue; type "web_search_tool_result"constant`

              - `WEB_SEARCH_TOOL_RESULT("web_search_tool_result")`

          - `class BetaWebFetchToolResultBlock:`

            - `Content content`

              - `class BetaWebFetchToolResultErrorBlock:`

                - `BetaWebFetchToolResultErrorCode errorCode`

                  - `INVALID_TOOL_INPUT("invalid_tool_input")`

                  - `URL_TOO_LONG("url_too_long")`

                  - `URL_NOT_ALLOWED("url_not_allowed")`

                  - `URL_NOT_ACCESSIBLE("url_not_accessible")`

                  - `UNSUPPORTED_CONTENT_TYPE("unsupported_content_type")`

                  - `TOO_MANY_REQUESTS("too_many_requests")`

                  - `MAX_USES_EXCEEDED("max_uses_exceeded")`

                  - `UNAVAILABLE("unavailable")`

                - `JsonValue; type "web_fetch_tool_result_error"constant`

                  - `WEB_FETCH_TOOL_RESULT_ERROR("web_fetch_tool_result_error")`

              - `class BetaWebFetchBlock:`

                - `BetaDocumentBlock content`

                  - `Optional<BetaCitationConfig> citations`

                    Citation configuration for the document

                    - `boolean enabled`

                  - `Source source`

                    - `class BetaBase64PdfSource:`

                      - `String data`

                      - `JsonValue; mediaType "application/pdf"constant`

                        - `APPLICATION_PDF("application/pdf")`

                      - `JsonValue; type "base64"constant`

                        - `BASE64("base64")`

                    - `class BetaPlainTextSource:`

                      - `String data`

                      - `JsonValue; mediaType "text/plain"constant`

                        - `TEXT_PLAIN("text/plain")`

                      - `JsonValue; type "text"constant`

                        - `TEXT("text")`

                  - `Optional<String> title`

                    The title of the document

                  - `JsonValue; type "document"constant`

                    - `DOCUMENT("document")`

                - `Optional<String> retrievedAt`

                  ISO 8601 timestamp when the content was retrieved

                - `JsonValue; type "web_fetch_result"constant`

                  - `WEB_FETCH_RESULT("web_fetch_result")`

                - `String url`

                  Fetched content URL

            - `String toolUseId`

            - `JsonValue; type "web_fetch_tool_result"constant`

              - `WEB_FETCH_TOOL_RESULT("web_fetch_tool_result")`

          - `class BetaCodeExecutionToolResultBlock:`

            - `BetaCodeExecutionToolResultBlockContent content`

              - `class BetaCodeExecutionToolResultError:`

                - `BetaCodeExecutionToolResultErrorCode errorCode`

                  - `INVALID_TOOL_INPUT("invalid_tool_input")`

                  - `UNAVAILABLE("unavailable")`

                  - `TOO_MANY_REQUESTS("too_many_requests")`

                  - `EXECUTION_TIME_EXCEEDED("execution_time_exceeded")`

                - `JsonValue; type "code_execution_tool_result_error"constant`

                  - `CODE_EXECUTION_TOOL_RESULT_ERROR("code_execution_tool_result_error")`

              - `class BetaCodeExecutionResultBlock:`

                - `List<BetaCodeExecutionOutputBlock> content`

                  - `String fileId`

                  - `JsonValue; type "code_execution_output"constant`

                    - `CODE_EXECUTION_OUTPUT("code_execution_output")`

                - `long returnCode`

                - `String stderr`

                - `String stdout`

                - `JsonValue; type "code_execution_result"constant`

                  - `CODE_EXECUTION_RESULT("code_execution_result")`

            - `String toolUseId`

            - `JsonValue; type "code_execution_tool_result"constant`

              - `CODE_EXECUTION_TOOL_RESULT("code_execution_tool_result")`

          - `class BetaBashCodeExecutionToolResultBlock:`

            - `Content content`

              - `class BetaBashCodeExecutionToolResultError:`

                - `ErrorCode errorCode`

                  - `INVALID_TOOL_INPUT("invalid_tool_input")`

                  - `UNAVAILABLE("unavailable")`

                  - `TOO_MANY_REQUESTS("too_many_requests")`

                  - `EXECUTION_TIME_EXCEEDED("execution_time_exceeded")`

                  - `OUTPUT_FILE_TOO_LARGE("output_file_too_large")`

                - `JsonValue; type "bash_code_execution_tool_result_error"constant`

                  - `BASH_CODE_EXECUTION_TOOL_RESULT_ERROR("bash_code_execution_tool_result_error")`

              - `class BetaBashCodeExecutionResultBlock:`

                - `List<BetaBashCodeExecutionOutputBlock> content`

                  - `String fileId`

                  - `JsonValue; type "bash_code_execution_output"constant`

                    - `BASH_CODE_EXECUTION_OUTPUT("bash_code_execution_output")`

                - `long returnCode`

                - `String stderr`

                - `String stdout`

                - `JsonValue; type "bash_code_execution_result"constant`

                  - `BASH_CODE_EXECUTION_RESULT("bash_code_execution_result")`

            - `String toolUseId`

            - `JsonValue; type "bash_code_execution_tool_result"constant`

              - `BASH_CODE_EXECUTION_TOOL_RESULT("bash_code_execution_tool_result")`

          - `class BetaTextEditorCodeExecutionToolResultBlock:`

            - `Content content`

              - `class BetaTextEditorCodeExecutionToolResultError:`

                - `ErrorCode errorCode`

                  - `INVALID_TOOL_INPUT("invalid_tool_input")`

                  - `UNAVAILABLE("unavailable")`

                  - `TOO_MANY_REQUESTS("too_many_requests")`

                  - `EXECUTION_TIME_EXCEEDED("execution_time_exceeded")`

                  - `FILE_NOT_FOUND("file_not_found")`

                - `Optional<String> errorMessage`

                - `JsonValue; type "text_editor_code_execution_tool_result_error"constant`

                  - `TEXT_EDITOR_CODE_EXECUTION_TOOL_RESULT_ERROR("text_editor_code_execution_tool_result_error")`

              - `class BetaTextEditorCodeExecutionViewResultBlock:`

                - `String content`

                - `FileType fileType`

                  - `TEXT("text")`

                  - `IMAGE("image")`

                  - `PDF("pdf")`

                - `Optional<Long> numLines`

                - `Optional<Long> startLine`

                - `Optional<Long> totalLines`

                - `JsonValue; type "text_editor_code_execution_view_result"constant`

                  - `TEXT_EDITOR_CODE_EXECUTION_VIEW_RESULT("text_editor_code_execution_view_result")`

              - `class BetaTextEditorCodeExecutionCreateResultBlock:`

                - `boolean isFileUpdate`

                - `JsonValue; type "text_editor_code_execution_create_result"constant`

                  - `TEXT_EDITOR_CODE_EXECUTION_CREATE_RESULT("text_editor_code_execution_create_result")`

              - `class BetaTextEditorCodeExecutionStrReplaceResultBlock:`

                - `Optional<List<String>> lines`

                - `Optional<Long> newLines`

                - `Optional<Long> newStart`

                - `Optional<Long> oldLines`

                - `Optional<Long> oldStart`

                - `JsonValue; type "text_editor_code_execution_str_replace_result"constant`

                  - `TEXT_EDITOR_CODE_EXECUTION_STR_REPLACE_RESULT("text_editor_code_execution_str_replace_result")`

            - `String toolUseId`

            - `JsonValue; type "text_editor_code_execution_tool_result"constant`

              - `TEXT_EDITOR_CODE_EXECUTION_TOOL_RESULT("text_editor_code_execution_tool_result")`

          - `class BetaToolSearchToolResultBlock:`

            - `Content content`

              - `class BetaToolSearchToolResultError:`

                - `ErrorCode errorCode`

                  - `INVALID_TOOL_INPUT("invalid_tool_input")`

                  - `UNAVAILABLE("unavailable")`

                  - `TOO_MANY_REQUESTS("too_many_requests")`

                  - `EXECUTION_TIME_EXCEEDED("execution_time_exceeded")`

                - `Optional<String> errorMessage`

                - `JsonValue; type "tool_search_tool_result_error"constant`

                  - `TOOL_SEARCH_TOOL_RESULT_ERROR("tool_search_tool_result_error")`

              - `class BetaToolSearchToolSearchResultBlock:`

                - `List<BetaToolReferenceBlock> toolReferences`

                  - `String toolName`

                  - `JsonValue; type "tool_reference"constant`

                    - `TOOL_REFERENCE("tool_reference")`

                - `JsonValue; type "tool_search_tool_search_result"constant`

                  - `TOOL_SEARCH_TOOL_SEARCH_RESULT("tool_search_tool_search_result")`

            - `String toolUseId`

            - `JsonValue; type "tool_search_tool_result"constant`

              - `TOOL_SEARCH_TOOL_RESULT("tool_search_tool_result")`

          - `class BetaMcpToolUseBlock:`

            - `String id`

            - `Input input`

            - `String name`

              The name of the MCP tool

            - `String serverName`

              The name of the MCP server

            - `JsonValue; type "mcp_tool_use"constant`

              - `MCP_TOOL_USE("mcp_tool_use")`

          - `class BetaMcpToolResultBlock:`

            - `Content content`

              - `String`

              - `List<BetaTextBlock>`

                - `Optional<List<BetaTextCitation>> citations`

                  Citations supporting the text block.

                  The type of citation returned will depend on the type of document being cited. Citing a PDF results in `page_location`, plain text results in `char_location`, and content document results in `content_block_location`.

                  - `class BetaCitationCharLocation:`

                    - `String citedText`

                    - `long documentIndex`

                    - `Optional<String> documentTitle`

                    - `long endCharIndex`

                    - `Optional<String> fileId`

                    - `long startCharIndex`

                    - `JsonValue; type "char_location"constant`

                      - `CHAR_LOCATION("char_location")`

                  - `class BetaCitationPageLocation:`

                    - `String citedText`

                    - `long documentIndex`

                    - `Optional<String> documentTitle`

                    - `long endPageNumber`

                    - `Optional<String> fileId`

                    - `long startPageNumber`

                    - `JsonValue; type "page_location"constant`

                      - `PAGE_LOCATION("page_location")`

                  - `class BetaCitationContentBlockLocation:`

                    - `String citedText`

                    - `long documentIndex`

                    - `Optional<String> documentTitle`

                    - `long endBlockIndex`

                    - `Optional<String> fileId`

                    - `long startBlockIndex`

                    - `JsonValue; type "content_block_location"constant`

                      - `CONTENT_BLOCK_LOCATION("content_block_location")`

                  - `class BetaCitationsWebSearchResultLocation:`

                    - `String citedText`

                    - `String encryptedIndex`

                    - `Optional<String> title`

                    - `JsonValue; type "web_search_result_location"constant`

                      - `WEB_SEARCH_RESULT_LOCATION("web_search_result_location")`

                    - `String url`

                  - `class BetaCitationSearchResultLocation:`

                    - `String citedText`

                    - `long endBlockIndex`

                    - `long searchResultIndex`

                    - `String source`

                    - `long startBlockIndex`

                    - `Optional<String> title`

                    - `JsonValue; type "search_result_location"constant`

                      - `SEARCH_RESULT_LOCATION("search_result_location")`

                - `String text`

                - `JsonValue; type "text"constant`

                  - `TEXT("text")`

            - `boolean isError`

            - `String toolUseId`

            - `JsonValue; type "mcp_tool_result"constant`

              - `MCP_TOOL_RESULT("mcp_tool_result")`

          - `class BetaContainerUploadBlock:`

            Response model for a file uploaded to the container.

            - `String fileId`

            - `JsonValue; type "container_upload"constant`

              - `CONTAINER_UPLOAD("container_upload")`

        - `Optional<BetaContextManagementResponse> contextManagement`

          Context management response.

          Information about context management strategies applied during the request.

          - `List<AppliedEdit> appliedEdits`

            List of context management edits that were applied.

            - `class BetaClearToolUses20250919EditResponse:`

              - `long clearedInputTokens`

                Number of input tokens cleared by this edit.

              - `long clearedToolUses`

                Number of tool uses that were cleared.

              - `JsonValue; type "clear_tool_uses_20250919"constant`

                The type of context management edit applied.

                - `CLEAR_TOOL_USES_20250919("clear_tool_uses_20250919")`

            - `class BetaClearThinking20251015EditResponse:`

              - `long clearedInputTokens`

                Number of input tokens cleared by this edit.

              - `long clearedThinkingTurns`

                Number of thinking turns that were cleared.

              - `JsonValue; type "clear_thinking_20251015"constant`

                The type of context management edit applied.

                - `CLEAR_THINKING_20251015("clear_thinking_20251015")`

        - `Model model`

          The model that will complete your prompt.

          See [models](https://docs.anthropic.com/en/docs/models-overview) for additional details and options.

          - `CLAUDE_OPUS_4_5_20251101("claude-opus-4-5-20251101")`

            Premium model combining maximum intelligence with practical performance

          - `CLAUDE_OPUS_4_5("claude-opus-4-5")`

            Premium model combining maximum intelligence with practical performance

          - `CLAUDE_3_7_SONNET_LATEST("claude-3-7-sonnet-latest")`

            High-performance model with early extended thinking

          - `CLAUDE_3_7_SONNET_20250219("claude-3-7-sonnet-20250219")`

            High-performance model with early extended thinking

          - `CLAUDE_3_5_HAIKU_LATEST("claude-3-5-haiku-latest")`

            Fastest and most compact model for near-instant responsiveness

          - `CLAUDE_3_5_HAIKU_20241022("claude-3-5-haiku-20241022")`

            Our fastest model

          - `CLAUDE_HAIKU_4_5("claude-haiku-4-5")`

            Hybrid model, capable of near-instant responses and extended thinking

          - `CLAUDE_HAIKU_4_5_20251001("claude-haiku-4-5-20251001")`

            Hybrid model, capable of near-instant responses and extended thinking

          - `CLAUDE_SONNET_4_20250514("claude-sonnet-4-20250514")`

            High-performance model with extended thinking

          - `CLAUDE_SONNET_4_0("claude-sonnet-4-0")`

            High-performance model with extended thinking

          - `CLAUDE_4_SONNET_20250514("claude-4-sonnet-20250514")`

            High-performance model with extended thinking

          - `CLAUDE_SONNET_4_5("claude-sonnet-4-5")`

            Our best model for real-world agents and coding

          - `CLAUDE_SONNET_4_5_20250929("claude-sonnet-4-5-20250929")`

            Our best model for real-world agents and coding

          - `CLAUDE_OPUS_4_0("claude-opus-4-0")`

            Our most capable model

          - `CLAUDE_OPUS_4_20250514("claude-opus-4-20250514")`

            Our most capable model

          - `CLAUDE_4_OPUS_20250514("claude-4-opus-20250514")`

            Our most capable model

          - `CLAUDE_OPUS_4_1_20250805("claude-opus-4-1-20250805")`

            Our most capable model

          - `CLAUDE_3_OPUS_LATEST("claude-3-opus-latest")`

            Excels at writing and complex tasks

          - `CLAUDE_3_OPUS_20240229("claude-3-opus-20240229")`

            Excels at writing and complex tasks

          - `CLAUDE_3_HAIKU_20240307("claude-3-haiku-20240307")`

            Our previous most fast and cost-effective

        - `JsonValue; role "assistant"constant`

          Conversational role of the generated message.

          This will always be `"assistant"`.

          - `ASSISTANT("assistant")`

        - `Optional<BetaStopReason> stopReason`

          The reason that we stopped.

          This may be one the following values:

          * `"end_turn"`: the model reached a natural stopping point
          * `"max_tokens"`: we exceeded the requested `max_tokens` or the model's maximum
          * `"stop_sequence"`: one of your provided custom `stop_sequences` was generated
          * `"tool_use"`: the model invoked one or more tools
          * `"pause_turn"`: we paused a long-running turn. You may provide the response back as-is in a subsequent request to let the model continue.
          * `"refusal"`: when streaming classifiers intervene to handle potential policy violations

          In non-streaming mode this value is always non-null. In streaming mode, it is null in the `message_start` event and non-null otherwise.

          - `END_TURN("end_turn")`

          - `MAX_TOKENS("max_tokens")`

          - `STOP_SEQUENCE("stop_sequence")`

          - `TOOL_USE("tool_use")`

          - `PAUSE_TURN("pause_turn")`

          - `REFUSAL("refusal")`

          - `MODEL_CONTEXT_WINDOW_EXCEEDED("model_context_window_exceeded")`

        - `Optional<String> stopSequence`

          Which custom stop sequence was generated, if any.

          This value will be a non-null string if one of your custom stop sequences was generated.

        - `JsonValue; type "message"constant`

          Object type.

          For Messages, this is always `"message"`.

          - `MESSAGE("message")`

        - `BetaUsage usage`

          Billing and rate-limit usage.

          Anthropic's API bills and rate-limits by token counts, as tokens represent the underlying cost to our systems.

          Under the hood, the API transforms requests into a format suitable for the model. The model's output then goes through a parsing stage before becoming an API response. As a result, the token counts in `usage` will not match one-to-one with the exact visible content of an API request or response.

          For example, `output_tokens` will be non-zero, even for an empty string response from Claude.

          Total input tokens in a request is the summation of `input_tokens`, `cache_creation_input_tokens`, and `cache_read_input_tokens`.

          - `Optional<BetaCacheCreation> cacheCreation`

            Breakdown of cached tokens by TTL

            - `long ephemeral1hInputTokens`

              The number of input tokens used to create the 1 hour cache entry.

            - `long ephemeral5mInputTokens`

              The number of input tokens used to create the 5 minute cache entry.

          - `Optional<Long> cacheCreationInputTokens`

            The number of input tokens used to create the cache entry.

          - `Optional<Long> cacheReadInputTokens`

            The number of input tokens read from the cache.

          - `long inputTokens`

            The number of input tokens which were used.

          - `long outputTokens`

            The number of output tokens which were used.

          - `Optional<BetaServerToolUsage> serverToolUse`

            The number of server tool requests.

            - `long webFetchRequests`

              The number of web fetch tool requests.

            - `long webSearchRequests`

              The number of web search tool requests.

          - `Optional<ServiceTier> serviceTier`

            If the request used the priority, standard, or batch tier.

            - `STANDARD("standard")`

            - `PRIORITY("priority")`

            - `BATCH("batch")`

      - `JsonValue; type "succeeded"constant`

        - `SUCCEEDED("succeeded")`

    - `class BetaMessageBatchErroredResult:`

      - `BetaErrorResponse error`

        - `BetaError error`

          - `class BetaInvalidRequestError:`

            - `String message`

            - `JsonValue; type "invalid_request_error"constant`

              - `INVALID_REQUEST_ERROR("invalid_request_error")`

          - `class BetaAuthenticationError:`

            - `String message`

            - `JsonValue; type "authentication_error"constant`

              - `AUTHENTICATION_ERROR("authentication_error")`

          - `class BetaBillingError:`

            - `String message`

            - `JsonValue; type "billing_error"constant`

              - `BILLING_ERROR("billing_error")`

          - `class BetaPermissionError:`

            - `String message`

            - `JsonValue; type "permission_error"constant`

              - `PERMISSION_ERROR("permission_error")`

          - `class BetaNotFoundError:`

            - `String message`

            - `JsonValue; type "not_found_error"constant`

              - `NOT_FOUND_ERROR("not_found_error")`

          - `class BetaRateLimitError:`

            - `String message`

            - `JsonValue; type "rate_limit_error"constant`

              - `RATE_LIMIT_ERROR("rate_limit_error")`

          - `class BetaGatewayTimeoutError:`

            - `String message`

            - `JsonValue; type "timeout_error"constant`

              - `TIMEOUT_ERROR("timeout_error")`

          - `class BetaApiError:`

            - `String message`

            - `JsonValue; type "api_error"constant`

              - `API_ERROR("api_error")`

          - `class BetaOverloadedError:`

            - `String message`

            - `JsonValue; type "overloaded_error"constant`

              - `OVERLOADED_ERROR("overloaded_error")`

        - `Optional<String> requestId`

        - `JsonValue; type "error"constant`

          - `ERROR("error")`

      - `JsonValue; type "errored"constant`

        - `ERRORED("errored")`

    - `class BetaMessageBatchCanceledResult:`

      - `JsonValue; type "canceled"constant`

        - `CANCELED("canceled")`

    - `class BetaMessageBatchExpiredResult:`

      - `JsonValue; type "expired"constant`

        - `EXPIRED("expired")`

### Example

```java
package com.anthropic.example;

import com.anthropic.client.AnthropicClient;
import com.anthropic.client.okhttp.AnthropicOkHttpClient;
import com.anthropic.core.http.StreamResponse;
import com.anthropic.models.beta.messages.batches.BatchResultsParams;
import com.anthropic.models.beta.messages.batches.BetaMessageBatchIndividualResponse;

public final class Main {
    private Main() {}

    public static void main(String[] args) {
        AnthropicClient client = AnthropicOkHttpClient.fromEnv();

        StreamResponse<BetaMessageBatchIndividualResponse> betaMessageBatchIndividualResponse = client.beta().messages().batches().resultsStreaming("message_batch_id");
    }
}
```
