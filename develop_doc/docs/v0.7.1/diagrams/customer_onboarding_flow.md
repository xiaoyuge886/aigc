# 企业客户接入流程可视化

## 垂直流程图（步骤视角）

```mermaid
flowchart TD
    Start([签约开始]) --> Phase1[阶段一：需求分析与方案设计<br/>1-2周]

    Phase1 --> P1_1[与客户对接人沟通<br/>梳理业务场景与需求]
    Phase1 --> P1_2[评估场景库复用程度<br/>识别定制化需求]
    Phase1 --> P1_3[设计技术方案<br/>数据集成/SSO/部署方式]

    P1_1 & P1_2 & P1_3 --> Phase2[阶段二：租户初始化与配置<br/>2-3天]

    Phase2 --> P2_1[创建租户 Tenant<br/>分配租户ID与API Key]
    Phase2 --> P2_2[配置租户参数<br/>资源配额/计费模式]
    Phase2 --> P2_3[初始化管理员账号<br/>配置初始场景与Skill]

    P2_1 & P2_2 & P2_3 --> Phase3[阶段三：场景定制与集成<br/>1-2周]

    Phase3 --> P3_1[复用场景库<br/>一键复制适用场景]
    Phase3 --> P3_2[场景定制<br/>调整Prompt/绑定Skill]
    Phase3 --> P3_3[系统集成<br/>对接SSO/数据源/知识库]

    P3_1 & P3_2 & P3_3 --> Phase4[阶段四：测试与培训<br/>3-5天]

    Phase4 --> P4_1[功能测试<br/>场景匹配/工具调用/权限]
    Phase4 --> P4_2[性能测试<br/>QPS/并发/响应时间]
    Phase4 --> P4_3[安全测试<br/>隔离/加密/审计]
    Phase4 --> P4_4[用户培训<br/>手册/视频/现场]

    P4_1 & P4_2 & P4_3 & P4_4 --> Phase5[阶段五：上线与运营支持<br/>持续]

    Phase5 --> P5_1[灰度发布<br/>小范围试点]
    Phase5 --> P5_2[监控告警<br/>租户级监控]
    Phase5 --> P5_3[运营支持<br/>数据分析与优化]

    P5_1 & P5_2 & P5_3 --> Milestone([🎉 客户上线成功])

    style Phase1 fill:#e1f5ff
    style Phase2 fill:#fff4e1
    style Phase3 fill:#e8f5e9
    style Phase4 fill:#fce4ec
    style Phase5 fill:#f3e5f5
    style Milestone fill:#ffd700,stroke:#ff6b6b,stroke-width:3px
```

## 方案四：泳道图（角色协作视角）

```mermaid
flowchart LR
    subgraph 客户侧
        A[提供需求] --> B[确认方案]
        B --> I[参与测试]
        I --> N[接受培训]
        N --> S[正式上线]
    end

    subgraph 解决方案团队
        C[需求分析] --> D[方案设计]
        D --> E[场景配置]
    end

    subgraph 技术团队
        F[租户初始化] --> G[系统集成]
        G --> H[测试验证]
    end

    subgraph 运营团队
        J[监控配置] --> K[灰度发布]
        K --> L[数据收集]
        L --> M[持续优化]
    end

    A --> C
    C --> D
    D -.确认.-> B
    E --> F
    F --> G
    G --> H
    H -.测试通过.-> I
    I -.培训完成.-> N
    J --> K
    K -.稳定运行.-> S
    L --> M
```

## 关键交付物清单

| 阶段 | 交付物 | 责任人 | 验收标准 |
|------|--------|--------|----------|
| 阶段一 | 需求文档、技术方案 | 解决方案架构师 | 客户签字确认 |
| 阶段二 | 租户账号、配置清单 | 技术团队 | 账号可登录、配置生效 |
| 阶段三 | 定制场景、集成报告 | 技术+产品团队 | 场景测试通过、集成完成 |
| 阶段四 | 测试报告、培训材料 | 测试+运营团队 | 功能正常、用户会使用 |
| 阶段五 | 上线报告、监控看板 | 运营团队 | 系统稳定运行、告警正常 |

## 风险提示

⚠️ **关键风险点**：
1. **阶段一**：需求不明确 → 需多次沟通，可能延期 3-5 天
2. **阶段三**：定制化过重 → 控制定制比例 <30%，否则延期 1-2 周
3. **阶段四**：测试不通过 → 预留 2-3 天缓冲时间
4. **阶段五**：数据迁移 → 需提前 1 周准备，可能延期 3-7 天

## 加速策略

💡 **快速交付建议**：
1. **复用优先**：从公共场景库挑选，复用率目标 ≥60%
2. **并行推进**：阶段三和阶段四部分并行（如边开发边测试）
3. **模板化**：使用场景配置模板、Onboarding Checklist
4. **专家支持**：配备专属解决方案工程师，全程跟进
